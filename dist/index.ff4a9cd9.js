const songs=[{id:1,title:"Ненависть"},{id:2,title:"Тишина"},{id:3,title:"Километры и дожди"},{id:4,title:"Точка Паника"},{id:5,title:"Измена"},{id:6,title:"Богема"},{id:7,title:"Окнами"},{id:8,title:"Кину тебя"},{id:9,title:"Градусы"},{id:10,title:"Сто таблеток"},{id:11,title:"Молодым"}],sizes=[{id:1,size:"24px"},{id:2,size:"36px"},{id:3,size:"48px"}],extraSizes=[{id:1,extraSize:"24px"},{id:2,extraSize:"36px"},{id:3,extraSize:"48px"},{id:4,extraSize:"64px"},{id:5,extraSize:"72px"},{id:6,extraSize:"96px"}],mobileSizes=[{id:1,mobileSize:"48px"},{id:2,mobileSize:"64px"},{id:3,mobileSize:"72px"}];let releaseDate=new Date("2022-09-30T21:00"),body=document.querySelector(".body"),range=document.querySelector(".range"),titles=document.querySelectorAll(".title"),massive=document.querySelector(".massive"),logo=document.querySelector(".logo"),form=document.querySelector(".form");const timer=document.querySelector(".timer-box"),albumTitle=document.querySelector(".album-title"),albumDescription=document.querySelector(".album-description");let timerDays=document.querySelector(".days"),timerHours=document.querySelector(".hours"),timerMinutes=document.querySelector(".minutes"),timerSeconds=document.querySelector(".seconds");const TEST=document.querySelector(".for-test");function sleep(e){return new Promise((t=>setTimeout(t,e)))}function showTitle(e){titles.forEach((t=>{titles[e]!=t&&t.classList.replace("appear","disappear")})),titles[e].classList.contains("appear")||(titles[e].innerHTML=songs[e].title,window.innerWidth>=1080?titles[e].style.setProperty("--song-size",sizes[Math.floor(Math.random()*sizes.length)].size):titles[e].style.setProperty("--song-size",mobileSizes[Math.floor(Math.random()*mobileSizes.length)].mobileSize),titles[e].style.setProperty("--coord-top",5*(Math.floor(17*Math.random())+1)+"%"),titles[e].style.setProperty("--coord-right",5*(Math.floor(14*Math.random())+1)+"%"),titles[e].classList.replace("disappear","appear"))}function totalSeparateDate(){let e=new Date,t=Math.round((releaseDate-e)/1e3),i=Math.floor(t/86400),s=Math.floor(t%86400/3600),a=Math.floor(t%86400%3600/60),n=Math.floor(t%86400%3600%60);if(t>=0)return waitTime=[{days:2==`${i}`.length?i:"0"+i,hours:2==`${s}`.length?s:"0"+s,minutes:2==`${a}`.length?a:"0"+a,seconds:2==`${n}`.length?n:"0"+n}];t<=0&&(clearInterval(timerUpdate),thirdStepAction())}function changeTimer(){let e=totalSeparateDate();e&&(e[0].days!=timerDays.innerHTML&&(timerDays.innerHTML=e[0].days),e[0].hours!=timerHours.innerHTML&&(timerHours.innerHTML=e[0].hours),e[0].minutes!=timerMinutes.innerHTML&&(timerMinutes.innerHTML=e[0].minutes),timerSeconds.innerHTML=e[0].seconds)}let timerUpdate=setInterval(changeTimer,1e3);function hideAllTitles(){titles.forEach((e=>{e.classList.replace("appear","disappear")}))}async function blinkElementToShow(e,t,i){e.classList.remove("hidden"),await sleep(500),e.classList.remove("disappear"),await sleep(t),e.classList.add("disappear"),console.log("disappear"),await sleep(1e3),e.addEventListener("transitionend",(async function(){console.log("hidden"),e.classList.add("hidden")})),await sleep(i)}async function blinkElementToHide(e,t,i,s){e.classList.add("disappear"),console.log("disappear"),await sleep(1e3),1==s&&e.addEventListener("transitionend",(async function(){console.log("hidden"),e.classList.add("hidden")})),await sleep(t),1==s&&(e.classList.remove("hidden"),await sleep(500)),e.classList.remove("disappear")}async function displayElement(e){e.classList.remove("hidden"),await sleep(500),e.classList.remove("disappear")}async function hideElement(e,t){e.classList.add("disappear"),await sleep(500),e.addEventListener("transitionend",(async function(){e.classList.add("hidden")}))}async function thirdStepAction(){hideElement(timer),await blinkElementToHide(albumTitle,3e3,3e3,!1),albumDescription.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Libero id faucibus nisl tincidunt eget. Tortor id aliquet lectus proin nibh nisl. Sagittis purus sit amet volutpat consequat mauris nunc. Enim neque volutpat ac tincidunt vitae semper quis lectus. Convallis convallis tellus id interdum velit laoreet id donec ultrices. Neque egestas congue quisque egestas diam in. Purus semper eget duis at tellus at urna condimentum. Eu non diam phasellus vestibulum lorem sed risus ultricies. Pharetra et ultrices neque ornare. Dignissim sodales ut eu sem integer vitae justo. Vulputate odio ut enim blandit. Urna condimentum mattis pellentesque id nibh tortor id aliquet. Cursus turpis massa tincidunt dui ut ornare lectus sit amet. Sit amet tellus cras adipiscing enim eu turpis. Egestas erat imperdiet sed euismod nisi porta lorem mollis aliquam. Risus viverra adipiscing at in.",await displayElement(albumDescription)}range.addEventListener("input",(async function(){let e=range.value;console.log(e),0!=e&&100!=e?showTitle(Math.ceil(e/9)-1):100==range.value?async function(){hideElement(range),await async function(){let e=200;for(i=0;i<850;i++){let t=document.createElement("p");t.className="mass title disappear",t.innerHTML=songs[Math.floor(Math.random()*songs.length)].title,t.style.setProperty("--song-size",extraSizes[Math.floor(Math.random()*extraSizes.length)].extraSize),t.style.setProperty("--coord-top",Math.floor(120*Math.random())-10+"%"),t.style.setProperty("--coord-right",120*Math.random()-10+"%"),massive.append(t),await sleep(e),t.classList.remove("disappear"),800==i&&body.classList.replace("oldBack","newBack"),10!=e&&(e-=5)}body.addEventListener("transitionend",(async function(){await sleep(3e3),document.querySelectorAll(".title").forEach((e=>{e.remove()}))}))}(),await sleep(3e3),form.classList.add("hidden"),await blinkElementToShow(logo,3e3,3e3),await displayElement(timer),displayElement(albumTitle),displayElement(TEST)}():hideAllTitles(),TEST.addEventListener("click",(()=>{releaseDate=Date.now()+5500,TEST.remove()}))}));
//# sourceMappingURL=index.ff4a9cd9.js.map
